<Window x:Class="HexViewer.HexViewerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:HexViewer.Control.HexViewer"
        Title="Просмотр Hex" Height="600" Width="1200">

    <DockPanel>
        <!-- Панель поиска -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="5">
            <TextBlock Text="Поиск по адресу:" FontSize="15" Margin="5 0 2 0"/>
            <TextBox x:Name="AddressBox" Width="120" Margin="0 0 5 0" ToolTip="Адрес (hex)" Style="{StaticResource CustomTextBoxStyle}"/>
            <Button Content="Перейти" Click="GoToAddress_Click" Style="{StaticResource BaseButtonStyle}" Margin="0 0 50 0" Padding="10 0"/>

            <TextBlock Text="Поиск данных:" FontSize="15" Margin="5 0 2 0"/>
            <TextBox x:Name="SearchBox" Width="120" Margin="0 0 5 0" ToolTip="Последовательность байт (hex)" Style="{StaticResource CustomTextBoxStyle}"/>
            <Button Content="Найти" Click="FindBytes_Click" Style="{StaticResource BaseButtonStyle}" Margin="0" Padding="10 0"/>

            <Button Content="⯇" Click="PrevMatch_Click" Style="{StaticResource BaseButtonStyle}" Margin="5 0 5 0" Padding="0 -16" FontSize="18" Height="20" Width="20"/>
            <Button Content="⯈" Click="NextMatch_Click" Style="{StaticResource BaseButtonStyle}" Margin="0" Padding="0 -16" FontSize="18" Height="20" Width="20"/>

            <TextBlock x:Name="SearchResultText" VerticalAlignment="Center" Margin="10 0 10 0"/>
        </StackPanel>

        <Grid x:Name="MainGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <local:HexViewer x:Name="HexViewerControl" Margin="10 0 10 0" Columns="32" VisibleRows="{Binding VisibleRows, Mode=TwoWay}" />

            <ScrollBar x:Name="VerticalScrollBar"
           Grid.Column="1"
           Orientation="Vertical"
           Margin="0,10,10,10"
           SmallChange="1"
           LargeChange="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=VisibleRows}"
           ViewportSize="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=VisibleRows}" />
        </Grid>
    </DockPanel>
</Window>